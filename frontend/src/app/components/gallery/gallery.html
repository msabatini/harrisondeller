<div class="gallery-hero">
  <img #heroImage src="assets/images/HDA-gallery-hero.jpg" alt="Gallery Hero" class="hero-image" />
  <div class="hero-overlay"></div>
  <div class="hero-content">
    <h1>Work</h1>
  </div>
</div>

<div class="gallery-container">

  <div class="bodies-nav" *ngIf="bodies.length > 0">
    <button 
      *ngFor="let body of bodies" 
      [class.active]="selectedBody?._id === body._id"
      (click)="selectBody(body)"
      class="body-btn">
      {{ body.title }}
    </button>
  </div>

  <div class="body-info" *ngIf="selectedBody">
    <h2>{{ selectedBody.title }}</h2>
    <p>{{ selectedBody.description }}</p>
    <p class="year" *ngIf="selectedBody.year">{{ selectedBody.year }}</p>
  </div>

  <!-- View Toggle -->
  <div class="view-toggle" *ngIf="!loading && artworks.length > 0">
    <button 
      [class.active]="viewMode === 'list'" 
      (click)="toggleViewMode()"
      class="toggle-btn list-btn"
      title="List View"
      aria-label="List View">
      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="view-icon">
        <rect x="3" y="5" width="18" height="2" fill="currentColor" rx="1"/>
        <rect x="3" y="11" width="18" height="2" fill="currentColor" rx="1"/>
        <rect x="3" y="17" width="18" height="2" fill="currentColor" rx="1"/>
      </svg>
    </button>
    <button 
      [class.active]="viewMode === 'grid'" 
      (click)="toggleViewMode()"
      class="toggle-btn grid-btn"
      title="Grid View"
      aria-label="Grid View">
      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="view-icon">
        <rect x="3" y="3" width="8" height="8" fill="none" stroke="currentColor" stroke-width="1.5" rx="1"/>
        <rect x="13" y="3" width="8" height="8" fill="none" stroke="currentColor" stroke-width="1.5" rx="1"/>
        <rect x="3" y="13" width="8" height="8" fill="none" stroke="currentColor" stroke-width="1.5" rx="1"/>
        <rect x="13" y="13" width="8" height="8" fill="none" stroke="currentColor" stroke-width="1.5" rx="1"/>
      </svg>
    </button>
  </div>

  <div class="loading" *ngIf="loading">Loading...</div>

  <div class="artworks-grid" [class.grid-view]="viewMode === 'grid'" *ngIf="!loading && artworks.length > 0">
    <div class="artwork-card" *ngFor="let artwork of artworks" (click)="viewArtwork(artwork._id)">
      <img [src]="artwork.imageUrl" [alt]="artwork.title" class="artwork-image" />
      <div class="artwork-info">
        <h3>{{ artwork.title }}</h3>
        <p *ngIf="artwork.year" class="year">{{ artwork.year }}</p>
        <p *ngIf="artwork.medium" class="medium">{{ artwork.medium }}</p>
        <p *ngIf="artwork.dimensions" class="dimensions">{{ artwork.dimensions }}</p>
        <p *ngIf="artwork.description" class="description">{{ artwork.description }}</p>
      </div>
    </div>
  </div>

  <div class="no-artworks" *ngIf="!loading && artworks.length === 0 && selectedBody">
    <p>No artworks available in this collection yet.</p>
  </div>

  <div class="no-bodies" *ngIf="!loading && bodies.length === 0">
    <p>No collections available yet.</p>
  </div>
</div>
